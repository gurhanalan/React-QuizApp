(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),o=(a(26),a(4)),i=a(6),s=a(7),u=a.n(s),m=a(18),f=a(2),d=a(19),p=a.n(d),E={sports:21,history:23,politics:24},b=c.a.createContext(),h=function(e){var t=e.children,a=Object(n.useState)(!0),r=Object(f.a)(a,2),l=r[0],s=r[1],d=Object(n.useState)(!1),h=Object(f.a)(d,2),y=h[0],g=h[1],v=Object(n.useState)([]),O=Object(f.a)(v,2),j=O[0],N=O[1],w=Object(n.useState)(1),q=Object(f.a)(w,2),x=q[0],S=q[1],C=Object(n.useState)(0),k=Object(f.a)(C,2),M=k[0],_=k[1],z=Object(n.useState)(!1),F=Object(f.a)(z,2),I=F[0],A=F[1],H=Object(n.useState)({amount:10,category:"sports",difficulty:"easy"}),J=Object(f.a)(H,2),L=J[0],Q=J[1],T=Object(n.useState)(!1),B=Object(f.a)(T,2),D=B[0],P=B[1],Y=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),s(!1),e.next=4,p()(t).catch((function(e){return console.log(e)}));case 4:(a=e.sent)?(n=a.data.results).length>0?(N(n),g(!1),s(!1),A(!1)):(s(!0),A(!0)):s(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){S((function(e){var t=e+1;return t>j.length-1?(K(),j.length):t}))},K=function(){P(!0)};return c.a.createElement(b.Provider,{value:{waiting:l,loading:y,questions:j,index:x,correct:M,error:I,isModalOpen:D,nextQuestion:G,checkAnswer:function(e){e&&_((function(e){return e+1})),G()},closeModal:function(){P(!1),s(!0),_(0),S(0)},handleChange:function(e){Q(Object(i.a)(Object(i.a)({},L),{},Object(o.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault();var t="".concat("https://opentdb.com/api.php?","amount=").concat(L.amount,"&difficulty=").concat(L.difficulty,"&category=").concat(E[L.category],"&type=multiple");Y(t)},quiz:L}},t)},y=function(){return Object(n.useContext)(b)},g=function(){var e=y(),t=e.handleChange,a=e.handleSubmit,n=e.quiz,r=e.error;return c.a.createElement("main",null,c.a.createElement("section",{className:"quiz quiz-small"},c.a.createElement("form",{className:"setup-form"},c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"amount"},"number of questions"),c.a.createElement("input",{type:"number",name:"amount",id:"amount",className:"form-input",min:1,max:50,onChange:t,value:n.amount})),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"category"},"category"),c.a.createElement("select",{name:"category",id:"category",className:"form-input",onChange:t,value:n.category},c.a.createElement("option",{value:"sports"},"sports"),c.a.createElement("option",{value:"history"},"history"),c.a.createElement("option",{value:"politics"},"politics"))),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"difficulty"},"difficulty"),c.a.createElement("select",{name:"difficulty",id:"difficulty",className:"form-input",onChange:t,value:n.difficulty},c.a.createElement("option",{value:"easy"},"easy"),c.a.createElement("option",{value:"medium"},"medium"),c.a.createElement("option",{value:"hard"},"hard"))),r&&c.a.createElement("p",{className:"error"},"can't generate questions, please try different options"),c.a.createElement("button",{type:"submit",className:"submit-btn",onClick:a},"start"))))},v=function(){return c.a.createElement("main",null,c.a.createElement("div",{className:"loading"}))},O=a(20),j=function(){var e=y(),t=e.isModalOpen,a=e.closeModal,n=e.correct,r=e.questions;return c.a.createElement("div",{className:t?"modal-container isOpen":"modal-container"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("h2",null,"congrats!"),c.a.createElement("p",null,"You answered"," ",(n/r.length*100).toFixed(0),"% of questions correctly"),c.a.createElement("button",{className:"close-btn",onClick:a},"play again")))},N=function(){var e=y(),t=e.questions,a=e.index,n=e.correct,r=e.nextQuestion,l=e.checkAnswer,o=t[a-1],i=o.question,s=o.incorrect_answers,u=o.correct_answer,m=Object(O.a)(s),f=Math.floor(4*Math.random());return 3===f?m.push(u):(m.push(m[f]),m[f]=u),c.a.createElement("main",null,c.a.createElement(j,null),c.a.createElement("section",{className:"quiz"},c.a.createElement("p",{className:"correct-answers"},"correct answers : ",n," / ",a),c.a.createElement("article",{className:"container"},c.a.createElement("h2",{dangerouslySetInnerHTML:{__html:i}}),c.a.createElement("div",{className:"btn-container"},m.map((function(e,t){return c.a.createElement("button",{key:t,className:"answer-btn ".concat(e===u?"correct":"wrong"),onClick:function(){l(e===u)},dangerouslySetInnerHTML:{__html:e}})})))),c.a.createElement("button",{className:"next-question",onClick:r},"next question")))};var w=function(){var e=y(),t=e.waiting,a=e.loading;return t?c.a.createElement(g,null):a?c.a.createElement(v,null):c.a.createElement(N,null)};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(h,null,c.a.createElement(w,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ba748d37.chunk.js.map